# Distracting Control Suite and RLBench Configuration

environment:
  # Environment type: 'distracting_control' or 'rlbench'
  suite: distracting_control
  
  # DMC task settings
  domain: walker
  task: walk
  num_envs: 1  # 8 parallel environments (1 per GPU for 8-GPU training)
  
  # ColorGrid Distraction settings (MDP-correlated, recommended)
  use_color_grid: True
  evil_level: max  # Options: max, action, reward, sequence, action_cross_sequence, minimum, random, none
  num_cells_per_dim: 16  # 16x16 grid of color cells
  num_colors_per_cell: 11664  # Total number of color patterns (action_power^action_dims * reward_bins)
  action_dims_to_split: null  # null = use all action dims, or specify list like [0, 1, 2]
  action_power: 3  # Number of discrete bins per action dimension
  
  # Standard Distraction settings (less effective, not recommended)
  distractions:
    background: False  # Disabled when using ColorGrid
    camera: False
    color: False
    background_dataset_path: null  # Path to DAVIS dataset if using video backgrounds
    background_dataset_videos: null
    background_dynamic: True
    
  # Observation settings
  obs:
    image_size: 64
    channels: 3
    frame_stack: 1
    action_repeat: 2
    
  # Episode settings
  time_limit: 1000
  
  # Available tasks for benchmarking (comprehensive DMC suite)
  benchmark_tasks:
    # Locomotion tasks
    - domain: walker
      task: walk
    - domain: walker
      task: run
    - domain: walker
      task: stand
    - domain: cheetah
      task: run
    - domain: hopper
      task: stand
    - domain: hopper
      task: hop
    - domain: humanoid
      task: stand
    - domain: humanoid
      task: walk
    - domain: humanoid
      task: run
    - domain: quadruped
      task: walk
    - domain: quadruped
      task: run
    # Manipulation tasks
    - domain: reacher
      task: easy
    - domain: reacher
      task: hard
    - domain: finger
      task: spin
    - domain: finger
      task: turn_easy
    - domain: finger
      task: turn_hard
    - domain: ball_in_cup
      task: catch
    # Control tasks
    - domain: cartpole
      task: swingup
    - domain: cartpole
      task: swingup_sparse
    - domain: cartpole
      task: balance
    - domain: cartpole
      task: balance_sparse
    - domain: acrobot
      task: swingup
    - domain: pendulum
      task: swingup
  
  # RLBench robotic manipulation tasks
  rlbench_tasks:
    - task: reach_target
      image_size: 64
      action_repeat: 2
      shadows: True
      max_length: 200
      
# SAM3 Segmentation Settings (for World2Filter)
segmentation:
  enabled: False  # Enable for World2Filter training
  model: sam3
  prompt: "robot"  # Text prompt for SAM3
  cache_masks: True
  cache_dir: ./mask_cache
  device: cuda
  batch_size: 32

